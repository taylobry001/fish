<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>ğŸ£ Emoji Fishing Gacha â€“ Ultimate</title>
<style>
body{
  margin:0;
  background:linear-gradient(#4fc3f7,#01579b);
  font-family:monospace;
  color:white;
  text-align:center;
}
button{
  font-size:18px;
  padding:10px 16px;
  margin:4px;
  border:none;
  border-radius:12px;
  cursor:pointer;
}
#water{
  position:relative;
  height:180px;
  overflow:hidden;
}
.wave{
  position:absolute;
  width:200%;
  height:100%;
  background:rgba(255,255,255,0.08);
  animation:wave 6s linear infinite;
}
@keyframes wave{
  from{transform:translateX(0)}
  to{transform:translateX(-50%)}
}
#scene{
  font-size:90px;
  height:120px;
  line-height:120px;
}
.glow{
  animation:glow 0.6s infinite alternate;
}
@keyframes glow{
  from{text-shadow:0 0 10px gold;}
  to{text-shadow:0 0 35px white;}
}
.panel{
  background:rgba(0,0,0,0.35);
  padding:10px;
  border-radius:12px;
  display:inline-block;
}
.hidden{display:none}
.scroll{
  max-height:260px;
  overflow-y:auto;
  background:rgba(0,0,0,0.4);
  padding:10px;
  border-radius:12px;
}
.shake{
  animation:shake 0.4s;
}
@keyframes shake{
  0%{transform:translateX(0)}
  25%{transform:translateX(-10px)}
  50%{transform:translateX(10px)}
  75%{transform:translateX(-10px)}
  100%{transform:translateX(0)}
}
</style>
</head>
<body>

<h1>ğŸ£ Emoji Fishing Gacha</h1>

<div class="panel">
ğŸª™ <span id="coins">0</span> |
ğŸ€ <span id="luck">1.0</span>x |
ğŸŒ <span id="zone">Ocean</span>
</div>

<div id="water">
  <div class="wave"></div>
</div>

<div id="scene">ğŸŒŠ</div>
<div id="msg"></div>

<button onclick="startFish(1)">ğŸ£ Fish</button>
<button onclick="startFish(10)">ğŸ° Fish x10</button>
<button onclick="buyLuck()">ğŸ€ Luck (100ğŸª™)</button>
<button onclick="unlockZone()">ğŸŒ Unlock Zone</button>
<button onclick="toggleDex()">ğŸ“˜ FishDex</button>
<button onclick="toggleAch()">ğŸ† Achievements</button>

<div id="dex" class="scroll hidden"></div>
<div id="ach" class="scroll hidden"></div>

<script>
let save=JSON.parse(localStorage.getItem("fishSave"))||{
 coins:0,luck:1,zone:0,dex:{},zonesUnlocked:1,ach:{}
};
let coins=save.coins,luck=save.luck,zoneIndex=save.zone,dex=save.dex;

const zones=[
 {name:"Ocean",fish:[
  {e:"ğŸŸ",n:"Fish",r:"Common",c:40,v:1},
  {e:"ğŸ ",n:"Tropical",r:"Uncommon",c:25,v:3},
  {e:"ğŸ¦‘",n:"Squid",r:"Rare",c:10,v:10},
  {e:"ğŸ¡",n:"Puffer",r:"Epic",c:3,v:30},
  {e:"ğŸ‰",n:"Dragon Fish",r:"Legendary",c:0.9,v:100},
  {e:"ğŸ‘‘ğŸ‰",n:"MYTHIC EMPEROR DRAGON",r:"SECRET",c:0.1,v:1000}
 ]},
 {name:"Abyss",fish:[
  {e:"ğŸ™",n:"Octopus",r:"Rare",c:25,v:15},
  {e:"ğŸ¦ˆ",n:"Shark",r:"Epic",c:10,v:40},
  {e:"ğŸ‹",n:"Whale",r:"Legendary",c:1,v:150},
  {e:"ğŸ‘‘ğŸ‰",n:"MYTHIC EMPEROR DRAGON",r:"SECRET",c:0.1,v:1500}
 ]}
];

const mutations=[
 {n:"Shiny âœ¨",c:5,m:2},
 {n:"Ancient ğŸ¦´",c:1,m:5},
 {n:"Giant ğŸ‹",c:0.5,m:10}
];

function startFish(t){
 let d=0;
 for(let i=0;i<t;i++){
  setTimeout(fish,d);
  d+=1100;
 }
}

function fish(){
 document.getElementById("scene").innerText="ğŸ£";
 document.getElementById("msg").innerText="Fishing...";
 setTimeout(()=>document.getElementById("scene").innerText="ğŸ’¦",400);
 setTimeout(reveal,900);
}

function reveal(){
 let roll=Math.random()*100/luck,sum=0,fish;
 for(let f of zones[zoneIndex].fish){
  sum+=f.c;
  if(roll<=sum){fish=f;break;}
 }
 let mut=null,mult=1;
 for(let m of mutations){
  if(Math.random()*100<m.c){mut=m;mult=m.m;break;}
 }
 let val=fish.v*mult;
 coins+=val;

 let key=fish.n+(mut?" "+mut.n:"");
 dex[key]=dex[key]||{
  e:fish.e,n:fish.n,r:fish.r,m:mut?mut.n:"None",
  v:val,d:new Date().toLocaleString(),c:0
 };
 dex[key].c++;

 const scene=document.getElementById("scene");
 scene.innerText=fish.e;
 scene.className=fish.c<=1?"glow":"";
 if(fish.r==="SECRET") scene.classList.add("shake");

 document.getElementById("msg").innerHTML=
 `<b>${fish.n}</b><br>${fish.r}<br>${mut?mut.n:""} +${val}ğŸª™`;

 saveGame();
 update();
}

function update(){
 document.getElementById("coins").innerText=coins;
 document.getElementById("luck").innerText=luck.toFixed(1);
 document.getElementById("zone").innerText=zones[zoneIndex].name;
}

function buyLuck(){
 if(coins>=100){
  coins-=100;
  luck+=0.25;
  saveGame();
  update();
 }
}

function unlockZone(){
 if(zoneIndex+1<zones.length && coins>=500){
  coins-=500;
  zoneIndex++;
  saveGame();
  update();
 }
}

function toggleDex(){
 let d=document.getElementById("dex");
 d.classList.toggle("hidden");
 let html="<h3>ğŸ“˜ FishDex</h3>";
 for(let k in dex){
  let f=dex[k];
  html+=`${f.e} <b>${f.n}</b><br>
  Rarity: ${f.r}<br>
  Mutation: ${f.m}<br>
  Value: ${f.v}<br>
  First: ${f.d}<br>
  Count: ${f.c}<hr>`;
 }
 d.innerHTML=html;
}

function toggleAch(){
 let a=document.getElementById("ach");
 a.classList.toggle("hidden");
 a.innerHTML="<h3>ğŸ† Achievements</h3>Catch a SECRET fish ğŸ‘‘<br>Reach 1000ğŸª™";
}

function saveGame(){
 localStorage.setItem("fishSave",JSON.stringify({
  coins,luck,zone:zoneIndex,dex,zonesUnlocked:zoneIndex+1
 }));
}

update();
</script>

</body>
</html>
